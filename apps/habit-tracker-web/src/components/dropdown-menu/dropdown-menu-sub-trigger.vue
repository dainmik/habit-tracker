<script setup lang="ts">
import { cn } from "@/lib/utils";
import { reactiveOmit } from "@vueuse/core";
import { ChevronRight } from "lucide-vue-next";
import {
	DropdownMenuSubTrigger,
	type DropdownMenuSubTriggerProps,
	useForwardProps,
} from "reka-ui";

const props = defineProps<
	DropdownMenuSubTriggerProps & {
		inset?: boolean;
	}
>();

const delegatedProps = reactiveOmit(props, "inset");
const forwardedProps = useForwardProps(delegatedProps);
</script>

<template>
	<DropdownMenuSubTrigger
		data-slot="dropdown-menu-sub-trigger"
		v-bind="forwardedProps"
		:class="
			cn(
				'focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-pointer items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8',
			)
		"
	>
		<slot />
		<ChevronRight class="ml-auto size-4" />
	</DropdownMenuSubTrigger>
</template>
